<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>viktor asprot</title>

  <link rel="stylesheet" href="css/style.css">
  <script src="https://kit.fontawesome.com/ca96bcb3ee.js" crossorigin="anonymous"></script>

</head>
<body>
  
  <header>
    <p>˗ˏˋ navigation ♡ ˎˊ˗</p>
    <nav style="padding-right: 20px;">
      <a class="active" href="#about" >about</a>
      <a href="#projects">projects</a>
      <a href="#other">other</a>
    </nav>
  </header>

  <section id="about" class="part">
    <div>
      <img src="img/meeb.png" class="p10">
    </div>

    <div class="align-top-left vertical" style="max-width: 20%; height: 150px;" >
      <p style="top: 0;"> <b> viktor asprot </b> &emsp; &ensp; <span class="light small"> any / all</span></p> 
      <hr style="width: 108%;">
      <ul>
        <li>game dev student</li>
        <li>professional dabbler</li>
        <li>a secret third option <span class="light small">..?</span></li>
      </ul>
      <p class="p10-top">
        <a href="https://www.linkedin.com/in/viktor-asprot/">
          <i class="fa-brands fa-linkedin hover"></i></a>
        <a href="https://github.com/eucarious" >
          <i class="fa-brands fa-github hover"></i></a>
      </p>

    </div>
    
  </section>

  <section id="projects" class="part">

    <div class="p10 vertical" style="min-width: 150px;">
      <h2 style="text-align: right;">projects</h2>
      <ol style="width: 100%;" id='projectList'>
        
      </ol>
    </div>

    <div class="align-top-left vertical"  style="max-width: 25%;">
      <h2>project details</h2>
      <hr style="width: 108%;">
      <dl>
      </dl>
      <p style="padding-top: 4px;"><a id="projectLink"></a> &emsp; <a id="projectSite"></a></p>
      <p id="projectBlurb"></p>
      <img src="" id="preview" style="max-width: 40vw;">
    </div>

  </section>

  <section id="other" class="part">
    
    <div class="p10 vertical" style="min-width: 150px; min-height: 150px;">
      <h2 style="text-align: right;">other projects</h2>
      <ol style="width: 100%;">
        <li>game jams | <a href="https://itch.io/c/5308018/jams">every game jam i have participated in</a></li>
      </ol>
    </div>

  </section>

  <div style="height: 3rem;">
    <p>by yours truly</p>
  </div>

</body>
</html>


<script>
const history = 
[{
    title: "bubble invaders", 
    date: new Date(2024, 11, 9),
    duration: "8 weeks",
    using: "unity (c#)",
    link: "https://bluekiivi.itch.io/bubble-invaders",
    site: "",
    sitedesc: "",
    blurb: "a space invaders copy made in unity for the first portfolio project course"
  }, 
  {
    title: "jurard", 
    date: new Date(2025, 2, 13),
    duration: "8 weeks",
    using: "c++",
    site: "https://eucarious.github.io/worlds-worst-chessbot/html/",
    sitedesc: "documentation",
    link: "https://github.com/eucarious/worlds-worst-chessbot",
    blurb: "ground up chess engine made for my data structures and algorithms course. has en passant, castling, and alpha beta pruning"
}]

const params = new URLSearchParams(location.search);
const preview = document.getElementById('preview');
const info = document.querySelector('dl');
const blurb = document.getElementById('projectBlurb');
const plink = document.getElementById('projectLink');
const psite = document.getElementById('projectSite');
var details;
var index;

function setDetails(i, updateParams = true) {
  details = history[index = i];

  preview.src = `img/preview/${details.title}.png`;
  info.innerHTML = `
        <dt> title </dt>
        <dd> ${details.title} </dd>
        <dt> end date</dt>
        <dd> ${details.date.toLocaleDateString("en-FI", {day: "numeric", month: "long", year: "numeric"}).toLowerCase()}</dd>
        <dt> duration</dt>
        <dd> ${details.duration}</dd>
        <dt> using</dt>
        <dd> ${details.using}</dd>
      `;
  
  plink.href = `${details.link ?? '-'}`;
  plink.text = details.link.length == 0 ? '' : 'link to project' ;

  psite.href = `${details.site ?? '-'}`;
  psite.text = details.site.length == 0 ? '' : details.sitedesc ;

  blurb.innerText = `${details.blurb ?? '-'}`;
  blurb.classList.add('p10-vert');
}

const list = document.getElementById('projectList');

for (let i = 0; i < history.length; i++) {
  let newLi = document.createElement('li');
  let newA = document.createElement('a');
  newA.href = 'javascript:void(0)';
  newA.onclick= () => setDetails(i);
  newA.text = `${history[i].title}`;
  newLi.appendChild(newA);

  list.appendChild(newLi);
}

if (params.has("title")) {
  let i = history.findIndex(c => c.name == params.get("details"));
	setDetails(i == -1 ? i: history.length - 1, false);
} else setDetails(0, false);



// Nav
let section = document.querySelectorAll('section')
let navLinks = document.querySelectorAll('header nav a')

window.onscroll = () => {

  section.forEach(sec => {
    let top = window.scrollY;
    let offset = sec.offsetTop;
    let height = sec.offsetHeight;
    let id = sec.getAttribute('id');

    if (top >= offset && top < offset + height) {
      navLinks.forEach(links => {
        links.classList.remove('active');
        document.querySelector('header nav a[href*=' + id + ']').classList.add('active');
      })
    }

  } )
}


</script>